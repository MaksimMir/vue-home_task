{"remainingRequest":"C:\\Users\\Максим\\Desktop\\vue-home_task\\task5\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Максим\\Desktop\\vue-home_task\\task5\\src\\components\\Modal.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Максим\\Desktop\\vue-home_task\\task5\\src\\components\\Modal.vue","mtime":1629373321400},{"path":"C:\\Users\\Максим\\Desktop\\vue-home_task\\task5\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Максим\\Desktop\\vue-home_task\\task5\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Максим\\Desktop\\vue-home_task\\task5\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Максим\\Desktop\\vue-home_task\\task5\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBtYXBBY3Rpb25zIH0gZnJvbSAndnVleCc7DQoNCg0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAnQnV0dG9uTW9kYWwnLA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBkYXRlOiAnJywNCiAgICAgIGNhdGVnb3J5OiAnJywNCiAgICAgIHZhbHVlOiAnJywNCiAgICB9DQogIH0sDQogIGNvbXB1dGVkOiB7DQogICAgZ2V0Q3VycmVudERhdGUoKSB7DQogICAgICBjb25zdCB0b2RheSA9IG5ldyBEYXRlKCk7DQogICAgICBsZXQgZGF5LCBtb250aCwgeWVhcjsNCiAgICAgIA0KICAgICAgaWYgKHRvZGF5LmdldERhdGUoKSA8IDEwKSB7DQogICAgICAgIGRheSA9ICcwJyArIHRvZGF5LmdldERhdGUoKTsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIGRheSA9IHRvZGF5LmdldERhdGUoKQ0KICAgICAgfQ0KDQogICAgICBpZiAodG9kYXkuZ2V0TW9udGgoKSArIDEgPCAxMCkgew0KICAgICAgICBtb250aCA9ICcwJyArICh0b2RheS5nZXRNb250aCgpICsgMSk7DQogICAgICB9IGVsc2Ugew0KICAgICAgICBtb250aCA9ICh0b2RheS5nZXRNb250aCgpICsgMSk7DQogICAgICB9DQoNCiAgICAgIHllYXIgPSB0b2RheS5nZXRGdWxsWWVhcigpOw0KDQogICAgICByZXR1cm4gYCR7ZGF5fS4ke21vbnRofS4ke3llYXJ9YDsNCiAgICB9LA0KICAgIG9wdGlvbnMoKSB7DQogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuZ2V0dGVycy5nZXRDYXRlZ29yaWVzDQogICAgfQ0KICB9LA0KICBtZXRob2RzOiB7DQogICAgLi4ubWFwQWN0aW9ucyhbDQogICAgICAnZmV0Y2hDYXRlZ29yaWVzTGlzdCcNCiAgICBdKSwNCiAgICBvblNhdmUoKSB7DQogICAgICBjb25zdCBidG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdpbnB1dFt0eXBlPWJ1dHRvbl0nKTsNCiAgICAgIGJ0bi5kaXNhYmxlZCA9IHRydWU7DQogICAgICBjb25zdCB7Y2F0ZWdvcnksIHZhbHVlfSA9IHRoaXM7DQogICAgICBjb25zdCBkYXRhID0gew0KICAgICAgICBkYXRlOiB0aGlzLmRhdGUgfHwgdGhpcy5nZXRDdXJyZW50RGF0ZSwNCiAgICAgICAgY2F0ZWdvcnksDQogICAgICAgIHZhbHVlDQogICAgICB9Ow0KDQogICAgICBpZiAoZGF0YS5jYXRlZ29yeSAmJiBkYXRhLnZhbHVlKSB7DQogICAgICAgIGJ0bi5kaXNhYmxlZCA9IGZhbHNlOw0KICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ2FkZERhdGFUb1BheW1lbnRzTGlzdCcsIGRhdGEpOw0KICAgICAgfQ0KDQogICAgICANCiAgICAgIHRoaXMudmFsdWUgPSAnJzsNCiAgICAgIHRoaXMuZGF0ZSA9ICcnOw0KICAgIH0sDQogIH0sDQogIGFzeW5jIGNyZWF0ZWQoKSB7DQogICAgYXdhaXQgdGhpcy5mZXRjaENhdGVnb3JpZXNMaXN0KCk7DQoNCiAgICBpZiAodGhpcy4kcm91dGU/LnBhcmFtcy5wYWdlKSB7DQogICAgICB0aGlzLmNhdGVnb3J5ID0gdGhpcy4kcm91dGUucGFyYW1zLnBhZ2U7DQogICAgICB0aGlzLnZhbHVlID0gdGhpcy4kcm91dGUucXVlcnkudmFsdWU7DQogICAgfQ0KICB9LA0KfQ0K"},{"version":3,"sources":["Modal.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAkBA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"Modal.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div class=\"modal\">\r\n    <div class=\"modal-form\">\r\n      <form>\r\n        <input type=\"text\" v-model=\"date\" placeholder=\"Payment Date\">\r\n        <select v-model=\"category\">\r\n          <option v-for=\"opt in options\" :key=\"opt\" :value=\"opt\">\r\n            {{ opt }}\r\n          </option>\r\n        </select>\r\n        <input type=\"number\" v-model.number=\"value\" placeholder=\"Payment Amount\">\r\n        <input @click=\"onSave\" type=\"button\" value=\"Add  +\">\r\n      </form>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapActions } from 'vuex';\r\n\r\n\r\nexport default {\r\n  name: 'ButtonModal',\r\n  data() {\r\n    return {\r\n      date: '',\r\n      category: '',\r\n      value: '',\r\n    }\r\n  },\r\n  computed: {\r\n    getCurrentDate() {\r\n      const today = new Date();\r\n      let day, month, year;\r\n      \r\n      if (today.getDate() < 10) {\r\n        day = '0' + today.getDate();\r\n      } else {\r\n        day = today.getDate()\r\n      }\r\n\r\n      if (today.getMonth() + 1 < 10) {\r\n        month = '0' + (today.getMonth() + 1);\r\n      } else {\r\n        month = (today.getMonth() + 1);\r\n      }\r\n\r\n      year = today.getFullYear();\r\n\r\n      return `${day}.${month}.${year}`;\r\n    },\r\n    options() {\r\n      return this.$store.getters.getCategories\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapActions([\r\n      'fetchCategoriesList'\r\n    ]),\r\n    onSave() {\r\n      const btn = document.querySelector('input[type=button]');\r\n      btn.disabled = true;\r\n      const {category, value} = this;\r\n      const data = {\r\n        date: this.date || this.getCurrentDate,\r\n        category,\r\n        value\r\n      };\r\n\r\n      if (data.category && data.value) {\r\n        btn.disabled = false;\r\n        this.$store.commit('addDataToPaymentsList', data);\r\n      }\r\n\r\n      \r\n      this.value = '';\r\n      this.date = '';\r\n    },\r\n  },\r\n  async created() {\r\n    await this.fetchCategoriesList();\r\n\r\n    if (this.$route?.params.page) {\r\n      this.category = this.$route.params.page;\r\n      this.value = this.$route.query.value;\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"sass\">\r\n\r\n  .modal\r\n    & input[type=button]\r\n      background-color: #20B799\r\n      font-size: 17px\r\n      font-weight: 700\r\n      text-transform: uppercase\r\n      border: 1px solid #20B799\r\n      border-radius: 3px\r\n      outline: none\r\n      padding: 10px 30px\r\n      color: white\r\n      cursor: pointer\r\n      &:hover\r\n        background-color: darken(#20B799, 10%) \r\n\r\n  .modal-form \r\n    width: 400px\r\n    & form\r\n      display: flex\r\n      flex-direction: column\r\n      & input, & select \r\n        padding: 10px 20px\r\n        margin-bottom: 20px\r\n        font-size: 17px\r\n        border: 1px solid lighten(black, 70%)\r\n        border-radius: 5px\r\n        outline: none\r\n\r\n</style>"]}]}